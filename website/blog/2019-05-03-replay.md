---
title:回放功能
---

在教育领域中，上完课之后往往需要记录板书让学生可以复习使用；
在会议场景下，会后也需要发出完整的会议记录来帮助后面执行讨论的成果。

为了更好的满足客户对回放的需求，sdk 2.0版本新增回放功能。我们提供的白板云端录制功能。无需再花费高昂的人力物力，通过手动录制视频的方式，来提供回放。

并且相比传统的录制方式，『白板回放』+『音频回放』的组合方案具备诸多优势如下：

- 高清播放、低带宽占用。方便用流量观看、以及在校园网等网络环境不稳定的场景下观看。
- 观看时支持缩放操作（zoom in & zoom out），方便客户用手机等移动端设备观看。
- 支持在微信朋友圈、小程序等流量平台传播课程。
- 无需老师或者工作人员介入，自动在云端完成。

## 房间模式

白板房间有三种模式：临时房间、持久化房间、可回放房间。房间模式必须在创建时指定，一旦确定，将不可修改。这三种模式的特征如下。

|    模式    | 可持久化 | 可回放 |                            描述                            |
| :--------: | :------: | :----: | :--------------------------------------------------------: |
|  临时房间  |     ✘    |    ✘   |  仅临时存在的房间。房间无人状态持续一段时间后将自动释放。  |
| 持久化房间(默认) |    ✓     |   ✘   |        即便房间将永久存在，除非调用 API 手动删除。         |
| 可回放房间 |    ✓     |   ✓    | 同「持久化房间」。并且房间所有内容将被自动录制，以供回放。 |

一旦选择了回放房间，白板的内容会被自动录制。所以你无需显式地调用「开始录制」和「结束录制」。你只需要确保房间被正确设置成「可回放模式」，则该房间的所有行为就会在服务端被自动记录下来。等到需要回放时，你只需准备好回放所需要的完整参数即可。

只需要几行代码，即可创建回放。

```javascript
var roomUUID = "..."; // 希望回放房间的 uuid，必须是可回放模式的房间
var roomToken = ""; // 房间 roomToken
var beginTimestamp = ...; // 回放的开始片段的事件，整数，Unix 时间戳（js为毫秒）
var duration = ...; // 回放片段持续时长（毫秒）

var promise = whiteWebSdk.replayRoom({
    room: roomUUID,
    roomToken: roomToken,
    beginTimestamp: beginTimestamp,
    duration: duration,
});
promise.then(function(player) {
    // 获取到 player 实例，开始播放
    player.play()
})
```

更多内容，请参考各端 SDK 回放文档。